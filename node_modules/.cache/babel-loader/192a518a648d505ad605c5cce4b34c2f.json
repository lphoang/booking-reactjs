{"ast":null,"code":"import axios from \"axios\";\nimport { GET_USER, GET_BOOKING_HISTORIES, UPDATE_USER_INFO, UPDATE_USER_PASSWORD } from \"../actionTypes\";\nimport { setLoading } from \"./commonActions\";\nconst url = process.env.REACT_APP_API_URL; //-----------------------------------------\n\nexport const getUser = (dispatch, token) => {\n  setLoading(dispatch, true);\n  axios(`${url}/customer/users/me`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(async response => {\n    await dispatch({\n      type: GET_USER,\n      payload: {\n        user: response.data\n      }\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {});\n}; // -----------------------------------------\n\nexport const getBookingHistories = (dispatch, token) => {\n  axios(`${url}/customer/booking-histories`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    params: {\n      \"order\": \"-createdAt\"\n    }\n  }).then(async response => {\n    await dispatch({\n      type: GET_BOOKING_HISTORIES,\n      payload: response.data.results\n    });\n  }).catch(error => {});\n}; // -----------------------------------------\n\nexport const updateUserInfo = (dispatch, token, userInfo) => {\n  setLoading(dispatch, true);\n  axios.put(`${url}/customer/users/me`, {\n    email: userInfo.email,\n    fullName: userInfo.fullName,\n    address: userInfo.address,\n    city: userInfo.city\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(async response => {\n    await dispatch({\n      type: UPDATE_USER_INFO,\n      payload: response.data.data\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {});\n}; // -----------------------------------------\n\nexport const updateUserPassword = (dispatch, token, {\n  password,\n  newPassword,\n  confirmNewPassword\n}) => {\n  setLoading(dispatch, true);\n  axios.put(`${url}/customer/users/me/update-password`, {\n    password,\n    newPassword,\n    confirmNewPassword\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(async response => {\n    await dispatch({\n      type: UPDATE_USER_PASSWORD,\n      payload: response.data.data\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {\n    setLoading(dispatch, true);\n  });\n};","map":{"version":3,"sources":["/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/redux/actions/user.action.js"],"names":["axios","GET_USER","GET_BOOKING_HISTORIES","UPDATE_USER_INFO","UPDATE_USER_PASSWORD","setLoading","url","process","env","REACT_APP_API_URL","getUser","dispatch","token","headers","Authorization","then","response","type","payload","user","data","catch","error","getBookingHistories","params","results","updateUserInfo","userInfo","put","email","fullName","address","city","updateUserPassword","password","newPassword","confirmNewPassword"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n    GET_USER,\n    GET_BOOKING_HISTORIES,\n    UPDATE_USER_INFO,\n    UPDATE_USER_PASSWORD\n} from \"../actionTypes\";\nimport {setLoading} from \"./commonActions\";\n\nconst url = process.env.REACT_APP_API_URL;\n\n//-----------------------------------------\n\nexport const getUser = (dispatch, token) => {\n    setLoading(dispatch, true);\n    axios(`${url}/customer/users/me`, {\n        headers: {Authorization: `Bearer ${token}`}\n    })\n        .then(async (response) => {\n            await dispatch({\n                type: GET_USER,\n                payload: {\n                    user: response.data\n                }\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n        });\n};\n// -----------------------------------------\nexport const getBookingHistories = (dispatch, token) => {\n    axios(`${url}/customer/booking-histories`,\n        {\n        headers: {\n            Authorization: `Bearer ${token}`,\n        },\n        params: {\n            \"order\": \"-createdAt\",\n        }\n    })\n        .then(async (response) => {\n            await dispatch({\n                type: GET_BOOKING_HISTORIES,\n                payload: response.data.results\n            });\n        })\n        .catch((error) => {\n        });\n};\n// -----------------------------------------\n\nexport const updateUserInfo = (dispatch, token, userInfo) => {\n    setLoading(dispatch, true)\n    axios\n        .put(\n            `${url}/customer/users/me`,\n            {\n                email: userInfo.email,\n                fullName: userInfo.fullName,\n                address: userInfo.address,\n                city: userInfo.city,\n            },\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            }\n        )\n        .then(async (response) => {\n            await dispatch({\n                type: UPDATE_USER_INFO,\n                payload: response.data.data\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n        });\n};\n// -----------------------------------------\n\nexport const updateUserPassword = (\n    dispatch,\n    token,\n    {password, newPassword, confirmNewPassword}\n) => {\n    setLoading(dispatch, true);\n\n    axios\n        .put(\n            `${url}/customer/users/me/update-password`,\n            {\n                password,\n                newPassword,\n                confirmNewPassword\n            },\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            }\n        )\n        .then(async (response) => {\n            await dispatch({\n                type: UPDATE_USER_PASSWORD,\n                payload: response.data.data\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n            setLoading(dispatch, true);\n        });\n};\n"]},"metadata":{},"sourceType":"module"}