{"ast":null,"code":"var _jsxFileName = \"/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/pages/Admin/components/RoomEditForm/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Upload, message, Modal } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport SelectField from '../../../../custom-fields/SelectField';\nimport { FastField } from \"formik\";\nimport { Form, Button, Cascader, DatePicker, InputNumber, TreeSelect, Switch, Row, Col } from 'antd';\nimport { ROOM_TYPE_OPTIONS } from '../../../../constants/global';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  RangePicker\n} = DatePicker;\n\nconst RoomEditForm = () => {\n  _s();\n\n  const [componentSize, setComponentSize] = useState('default');\n  const [loadingState, setLoadingState] = useState({\n    previewVisible: false,\n    previewImage: '',\n    previewTitle: '',\n    fileList: [{\n      uid: '-1',\n      name: 'image.png',\n      status: 'done',\n      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n    }, {\n      uid: '-2',\n      name: 'image.png',\n      status: 'done',\n      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n    }, {\n      uid: '-3',\n      name: 'image.png',\n      status: 'done',\n      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n    }, {\n      uid: '-4',\n      name: 'image.png',\n      status: 'done',\n      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n    } //   {\n    //     uid: '-xxx',\n    //     percent: 50,\n    //     name: 'image.png',\n    //     status: 'uploading',\n    //     url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n    //   },\n    //   {\n    //     uid: '-5',\n    //     name: 'image.png',\n    //     status: 'error',\n    //   },\n    ]\n  });\n\n  const onFormLayoutChange = ({\n    size\n  }) => {\n    setComponentSize(size);\n  };\n\n  const getBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n    });\n  };\n\n  const handleCancel = () => setLoadingState({\n    previewVisible: false\n  });\n\n  const handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    setLoadingState({\n      previewImage: file.url || file.preview,\n      previewVisible: true,\n      previewTitle: file.name || file.url.substring(file.url.lastIndexOf('/') + 1)\n    });\n  };\n\n  const handleChange = ({\n    fileList\n  }) => setLoadingState({\n    fileList\n  });\n\n  const beforeUpload = file => {\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n\n    if (!isJpgOrPng) {\n      message.error('You can only upload JPG/PNG file!');\n    }\n\n    const isLt2M = file.size / 1024 / 1024 < 2;\n\n    if (!isLt2M) {\n      message.error('Image must smaller than 2MB!');\n    }\n\n    return isJpgOrPng && isLt2M;\n  };\n\n  const uploadButton = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n\n  const {\n    previewVisible,\n    previewImage,\n    fileList,\n    previewTitle\n  } = loadingState;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" flex flex-col my-1 px-1 w-full md:w-full lg:my-4 lg:px-4 lg:w-full\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      labelCol: {\n        span: 6\n      },\n      wrapperCol: {\n        span: 12\n      },\n      layout: \"horizontal\",\n      initialValues: {\n        size: componentSize\n      },\n      onValuesChange: onFormLayoutChange,\n      size: componentSize,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"Image\",\n        children: [/*#__PURE__*/_jsxDEV(Upload // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n        , {\n          listType: \"picture-card\",\n          fileList: fileList,\n          beforeUpload: beforeUpload,\n          onPreview: handlePreview,\n          onChange: handleChange,\n          children: fileList.length >= 8 ? null : uploadButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          visible: previewVisible,\n          title: previewTitle,\n          footer: null,\n          onCancel: handleCancel,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"example\",\n            style: {\n              width: '100%'\n            },\n            src: previewImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"Room type\",\n        children: /*#__PURE__*/_jsxDEV(FastField, {\n          name: \"cityId\",\n          component: SelectField,\n          placeholder: \"Which city do you want to go?\",\n          options: CITY_OPTIONS\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"TreeSelect\",\n        children: /*#__PURE__*/_jsxDEV(TreeSelect, {\n          treeData: [{\n            title: 'Light',\n            value: 'light',\n            children: [{\n              title: 'Bamboo',\n              value: 'bamboo'\n            }]\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"Cascader\",\n        children: /*#__PURE__*/_jsxDEV(Cascader, {\n          options: [{\n            value: 'zhejiang',\n            label: 'Zhejiang',\n            children: [{\n              value: 'hangzhou',\n              label: 'Hangzhou'\n            }]\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"RangePicker\",\n        children: /*#__PURE__*/_jsxDEV(RangePicker, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"InputNumber\",\n        children: /*#__PURE__*/_jsxDEV(InputNumber, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"Switch\",\n        children: /*#__PURE__*/_jsxDEV(Switch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          offset: 12,\n          children: /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RoomEditForm, \"RdykAffVGy1scFh1A+hWiEi/a+4=\");\n\n_c = RoomEditForm;\nexport default RoomEditForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RoomEditForm\");","map":{"version":3,"sources":["/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/pages/Admin/components/RoomEditForm/index.jsx"],"names":["React","useState","Upload","message","Modal","PlusOutlined","SelectField","FastField","Form","Button","Cascader","DatePicker","InputNumber","TreeSelect","Switch","Row","Col","ROOM_TYPE_OPTIONS","RangePicker","RoomEditForm","componentSize","setComponentSize","loadingState","setLoadingState","previewVisible","previewImage","previewTitle","fileList","uid","name","status","url","onFormLayoutChange","size","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","handleCancel","handlePreview","preview","originFileObj","substring","lastIndexOf","handleChange","beforeUpload","isJpgOrPng","type","isLt2M","uploadButton","marginTop","span","length","width","CITY_OPTIONS","title","value","children","label"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,KAA1B,QAAuC,MAAvC;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,SAAQC,SAAR,QAAwB,QAAxB;AACA,SACIC,IADJ,EAEIC,MAFJ,EAGIC,QAHJ,EAIIC,UAJJ,EAKIC,WALJ,EAMIC,UANJ,EAOIC,MAPJ,EAQIC,GARJ,EASIC,GATJ,QAUS,MAVT;AAWA,SAAQC,iBAAR,QAAgC,8BAAhC;;AAGA,MAAM;AAAEC,EAAAA;AAAF,IAAkBP,UAAxB;;AACA,MAAMQ,YAAY,GAAG,MAAM;AAAA;;AACvB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCpB,QAAQ,CAAC,SAAD,CAAlD;AACA,QAAM,CAACqB,YAAD,EAAeC,eAAf,IAAkCtB,QAAQ,CAC5C;AACIuB,IAAAA,cAAc,EAAE,KADpB;AAEIC,IAAAA,YAAY,EAAE,EAFlB;AAGIC,IAAAA,YAAY,EAAE,EAHlB;AAIIC,IAAAA,QAAQ,EAAE,CACR;AACEC,MAAAA,GAAG,EAAE,IADP;AAEEC,MAAAA,IAAI,EAAE,WAFR;AAGEC,MAAAA,MAAM,EAAE,MAHV;AAIEC,MAAAA,GAAG,EAAE;AAJP,KADQ,EAOR;AACEH,MAAAA,GAAG,EAAE,IADP;AAEEC,MAAAA,IAAI,EAAE,WAFR;AAGEC,MAAAA,MAAM,EAAE,MAHV;AAIEC,MAAAA,GAAG,EAAE;AAJP,KAPQ,EAaR;AACEH,MAAAA,GAAG,EAAE,IADP;AAEEC,MAAAA,IAAI,EAAE,WAFR;AAGEC,MAAAA,MAAM,EAAE,MAHV;AAIEC,MAAAA,GAAG,EAAE;AAJP,KAbQ,EAmBR;AACEH,MAAAA,GAAG,EAAE,IADP;AAEEC,MAAAA,IAAI,EAAE,WAFR;AAGEC,MAAAA,MAAM,EAAE,MAHV;AAIEC,MAAAA,GAAG,EAAE;AAJP,KAnBQ,CAyBV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCU;AAJd,GAD4C,CAAhD;;AA6CA,QAAMC,kBAAkB,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAc;AACvCZ,IAAAA,gBAAgB,CAACY,IAAD,CAAhB;AACD,GAFD;;AAIA,QAAMC,SAAS,GAAIC,IAAD,IAAU;AACxB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,YAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,MAAAA,MAAM,CAACE,aAAP,CAAqBN,IAArB;;AACAI,MAAAA,MAAM,CAACG,MAAP,GAAgB,MAAML,OAAO,CAACE,MAAM,CAACI,MAAR,CAA7B;;AACAJ,MAAAA,MAAM,CAACK,OAAP,GAAiBC,KAAK,IAAIP,MAAM,CAACO,KAAD,CAAhC;AACH,KALM,CAAP;AAMH,GAPD;;AAQA,QAAMC,YAAY,GAAG,MAAMvB,eAAe,CAAC;AAAEC,IAAAA,cAAc,EAAE;AAAlB,GAAD,CAA1C;;AAEA,QAAMuB,aAAa,GAAG,MAAMZ,IAAN,IAAc;AAClC,QAAI,CAACA,IAAI,CAACJ,GAAN,IAAa,CAACI,IAAI,CAACa,OAAvB,EAAgC;AAC9Bb,MAAAA,IAAI,CAACa,OAAL,GAAe,MAAMd,SAAS,CAACC,IAAI,CAACc,aAAN,CAA9B;AACD;;AAED1B,IAAAA,eAAe,CAAC;AACdE,MAAAA,YAAY,EAAEU,IAAI,CAACJ,GAAL,IAAYI,IAAI,CAACa,OADjB;AAEdxB,MAAAA,cAAc,EAAE,IAFF;AAGdE,MAAAA,YAAY,EAAES,IAAI,CAACN,IAAL,IAAaM,IAAI,CAACJ,GAAL,CAASmB,SAAT,CAAmBf,IAAI,CAACJ,GAAL,CAASoB,WAAT,CAAqB,GAArB,IAA4B,CAA/C;AAHb,KAAD,CAAf;AAKD,GAVD;;AAYA,QAAMC,YAAY,GAAG,CAAC;AAAEzB,IAAAA;AAAF,GAAD,KAAkBJ,eAAe,CAAC;AAAEI,IAAAA;AAAF,GAAD,CAAtD;;AAGA,QAAM0B,YAAY,GAAIlB,IAAD,IAAU;AAC3B,UAAMmB,UAAU,GAAGnB,IAAI,CAACoB,IAAL,KAAc,YAAd,IAA8BpB,IAAI,CAACoB,IAAL,KAAc,WAA/D;;AACA,QAAI,CAACD,UAAL,EAAiB;AACbnD,MAAAA,OAAO,CAAC0C,KAAR,CAAc,mCAAd;AACH;;AACD,UAAMW,MAAM,GAAGrB,IAAI,CAACF,IAAL,GAAY,IAAZ,GAAmB,IAAnB,GAA0B,CAAzC;;AACA,QAAI,CAACuB,MAAL,EAAa;AACTrD,MAAAA,OAAO,CAAC0C,KAAR,CAAc,8BAAd;AACH;;AACD,WAAOS,UAAU,IAAIE,MAArB;AACH,GAVD;;AAaA,QAAMC,YAAY,gBAClB;AAAA,4BACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;;AAOA,QAAM;AAAElC,IAAAA,cAAF;AAAkBC,IAAAA,YAAlB;AAAgCE,IAAAA,QAAhC;AAA0CD,IAAAA;AAA1C,MAA2DJ,YAAjE;AACA,sBACI;AAAK,IAAA,SAAS,EAAC,qEAAf;AAAA,2BACI,QAAC,IAAD;AACI,MAAA,QAAQ,EAAE;AACNqC,QAAAA,IAAI,EAAE;AADA,OADd;AAII,MAAA,UAAU,EAAE;AACRA,QAAAA,IAAI,EAAE;AADE,OAJhB;AAOI,MAAA,MAAM,EAAC,YAPX;AAQI,MAAA,aAAa,EAAE;AACX1B,QAAAA,IAAI,EAAEb;AADK,OARnB;AAWI,MAAA,cAAc,EAAEY,kBAXpB;AAYI,MAAA,IAAI,EAAEZ,aAZV;AAAA,8BAqBI,QAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,OAAjB;AAAA,gCACA,QAAC,MAAD,CACI;AADJ;AAEI,UAAA,QAAQ,EAAC,cAFb;AAGI,UAAA,QAAQ,EAAEO,QAHd;AAII,UAAA,YAAY,EAAE0B,YAJlB;AAKI,UAAA,SAAS,EAAEN,aALf;AAMI,UAAA,QAAQ,EAAEK,YANd;AAAA,oBAQKzB,QAAQ,CAACiC,MAAT,IAAmB,CAAnB,GAAuB,IAAvB,GAA8BH;AARnC;AAAA;AAAA;AAAA;AAAA,gBADA,eAWI,QAAC,KAAD;AACI,UAAA,OAAO,EAAEjC,cADb;AAEI,UAAA,KAAK,EAAEE,YAFX;AAGI,UAAA,MAAM,EAAE,IAHZ;AAII,UAAA,QAAQ,EAAEoB,YAJd;AAAA,iCAMI;AAAK,YAAA,GAAG,EAAC,SAAT;AAAmB,YAAA,KAAK,EAAE;AAAEe,cAAAA,KAAK,EAAE;AAAT,aAA1B;AAA6C,YAAA,GAAG,EAAEpC;AAAlD;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,gBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ,eAyCI,QAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,WAAjB;AAAA,+BACI,QAAC,SAAD;AACoB,UAAA,IAAI,EAAC,QADzB;AAEoB,UAAA,SAAS,EAAEnB,WAF/B;AAGoB,UAAA,WAAW,EAAC,+BAHhC;AAIoB,UAAA,OAAO,EAAEwD;AAJ7B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAzCJ,eAiDI,QAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,YAAjB;AAAA,+BACI,QAAC,UAAD;AACA,UAAA,QAAQ,EAAE,CACN;AACAC,YAAAA,KAAK,EAAE,OADP;AAEAC,YAAAA,KAAK,EAAE,OAFP;AAGAC,YAAAA,QAAQ,EAAE,CACN;AACAF,cAAAA,KAAK,EAAE,QADP;AAEAC,cAAAA,KAAK,EAAE;AAFP,aADM;AAHV,WADM;AADV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAjDJ,eAiEI,QAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,UAAjB;AAAA,+BACI,QAAC,QAAD;AACA,UAAA,OAAO,EAAE,CACL;AACAA,YAAAA,KAAK,EAAE,UADP;AAEAE,YAAAA,KAAK,EAAE,UAFP;AAGAD,YAAAA,QAAQ,EAAE,CACN;AACAD,cAAAA,KAAK,EAAE,UADP;AAEAE,cAAAA,KAAK,EAAE;AAFP,aADM;AAHV,WADK;AADT;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAjEJ,eAiFI,QAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,aAAjB;AAAA,+BACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAjFJ,eAoFI,QAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,aAAjB;AAAA,+BACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cApFJ,eAuFI,QAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,QAAjB;AAAA,+BACI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAvFJ,eA0FI,QAAC,GAAD;AAAA,+BACI,QAAC,GAAD;AAAK,UAAA,IAAI,EAAE,EAAX;AAAe,UAAA,MAAM,EAAE,EAAvB;AAAA,iCACI,QAAC,IAAD,CAAM,IAAN;AAAA,mCACI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA1FJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAsGH,CAvMD;;GAAM/C,Y;;KAAAA,Y;AAyMN,eAAeA,YAAf","sourcesContent":["import React, { useState } from 'react'\nimport { Upload, message, Modal } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport SelectField from '../../../../custom-fields/SelectField'\nimport {FastField} from \"formik\"\nimport {\n    Form,\n    Button,\n    Cascader,\n    DatePicker,\n    InputNumber,\n    TreeSelect,\n    Switch,\n    Row,\n    Col\n  } from 'antd';\nimport {ROOM_TYPE_OPTIONS} from '../../../../constants/global'\n\n\nconst { RangePicker } = DatePicker;\nconst RoomEditForm = () => {\n    const [componentSize, setComponentSize] = useState('default');\n    const [loadingState, setLoadingState] = useState(\n        {\n            previewVisible: false,\n            previewImage: '',\n            previewTitle: '',\n            fileList: [\n              {\n                uid: '-1',\n                name: 'image.png',\n                status: 'done',\n                url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n              },\n              {\n                uid: '-2',\n                name: 'image.png',\n                status: 'done',\n                url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n              },\n              {\n                uid: '-3',\n                name: 'image.png',\n                status: 'done',\n                url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n              },\n              {\n                uid: '-4',\n                name: 'image.png',\n                status: 'done',\n                url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n              },\n            //   {\n            //     uid: '-xxx',\n            //     percent: 50,\n            //     name: 'image.png',\n            //     status: 'uploading',\n            //     url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n            //   },\n            //   {\n            //     uid: '-5',\n            //     name: 'image.png',\n            //     status: 'error',\n            //   },\n            ],\n          }\n    );\n    const onFormLayoutChange = ({ size }) => {\n      setComponentSize(size);\n    };\n  \n    const getBase64 = (file) => {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = () => resolve(reader.result);\n            reader.onerror = error => reject(error);\n        });\n    }\n    const handleCancel = () => setLoadingState({ previewVisible: false });\n\n    const handlePreview = async file => {\n      if (!file.url && !file.preview) {\n        file.preview = await getBase64(file.originFileObj);\n      }\n  \n      setLoadingState({\n        previewImage: file.url || file.preview,\n        previewVisible: true,\n        previewTitle: file.name || file.url.substring(file.url.lastIndexOf('/') + 1),\n      });\n    };\n  \n    const handleChange = ({ fileList }) => setLoadingState({ fileList });\n    \n      \n    const beforeUpload = (file) => {\n        const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n        if (!isJpgOrPng) {\n            message.error('You can only upload JPG/PNG file!');\n        }\n        const isLt2M = file.size / 1024 / 1024 < 2;\n        if (!isLt2M) {\n            message.error('Image must smaller than 2MB!');\n        }\n        return isJpgOrPng && isLt2M;\n    }\n\n\n    const uploadButton = (\n    <div>\n        <PlusOutlined />\n        <div style={{ marginTop: 8 }}>Upload</div>\n      </div>\n    );\n\n    const { previewVisible, previewImage, fileList, previewTitle } = loadingState;\n    return (\n        <div className=\" flex flex-col my-1 px-1 w-full md:w-full lg:my-4 lg:px-4 lg:w-full\">\n            <Form\n                labelCol={{\n                    span: 6,\n                }}\n                wrapperCol={{\n                    span: 12,\n                }}\n                layout=\"horizontal\"\n                initialValues={{\n                    size: componentSize,\n                }}\n                onValuesChange={onFormLayoutChange}\n                size={componentSize}\n            >\n                {/* <Form.Item label=\"Form Size\" name=\"size\">\n                    <Radio.Group>\n                    <Radio.Button value=\"small\">Small</Radio.Button>\n                    <Radio.Button value=\"default\">Default</Radio.Button>\n                    <Radio.Button value=\"large\">Large</Radio.Button>\n                    </Radio.Group>\n                </Form.Item> */}\n                <Form.Item label=\"Image\">\n                <Upload\n                    // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n                    listType=\"picture-card\"\n                    fileList={fileList}\n                    beforeUpload={beforeUpload}\n                    onPreview={handlePreview}\n                    onChange={handleChange}\n                    >\n                    {fileList.length >= 8 ? null : uploadButton}\n                    </Upload>\n                    <Modal\n                        visible={previewVisible}\n                        title={previewTitle}\n                        footer={null}\n                        onCancel={handleCancel}\n                    >\n                        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n                    </Modal>\n                </Form.Item>\n                <Form.Item label=\"Room type\">\n                    <FastField \n                                        name=\"cityId\"\n                                        component={SelectField}\n                                        placeholder=\"Which city do you want to go?\"\n                                        options={CITY_OPTIONS}\n                                    />  \n                </Form.Item>\n                <Form.Item label=\"TreeSelect\">\n                    <TreeSelect\n                    treeData={[\n                        {\n                        title: 'Light',\n                        value: 'light',\n                        children: [\n                            {\n                            title: 'Bamboo',\n                            value: 'bamboo',\n                            },\n                        ],\n                        },\n                    ]}\n                    />\n                </Form.Item>\n                <Form.Item label=\"Cascader\">\n                    <Cascader\n                    options={[\n                        {\n                        value: 'zhejiang',\n                        label: 'Zhejiang',\n                        children: [\n                            {\n                            value: 'hangzhou',\n                            label: 'Hangzhou',\n                            },\n                        ],\n                        },\n                    ]}\n                    />\n                </Form.Item>\n                <Form.Item label=\"RangePicker\">\n                    <RangePicker />\n                </Form.Item>\n                <Form.Item label=\"InputNumber\">\n                    <InputNumber />\n                </Form.Item>\n                <Form.Item label=\"Switch\">\n                    <Switch />\n                </Form.Item>\n                <Row>\n                    <Col span={12} offset={12}>\n                        <Form.Item >\n                            <Button>Edit</Button>\n                        </Form.Item>\n                    </Col>\n                </Row>\n            </Form>\n      </div>\n    );\n};\n\nexport default RoomEditForm;"]},"metadata":{},"sourceType":"module"}