{"ast":null,"code":"/* eslint-disable eqeqeq */\nimport { SADMIN_SIGN_IN, SADMIN_CHECK_AUTH, CREATE_OWNER } from '../actionTypes';\nimport { setLoading } from \"./commonActions\";\nimport axios from \"axios\"; //-----------------------------------------\n\nconst url = process.env.REACT_APP_API_URL;\nexport const signIn = (dispatch, user, setToken, setUserId) => {\n  setLoading(dispatch, true);\n  axios({\n    method: \"POST\",\n    url: `${url}/super-admin/auth/sign-in`,\n    headers: {\n      \"Content-Type\": \" application/json\"\n    },\n    data: {\n      email: user.email,\n      password: user.password\n    }\n  }).then(async response => {\n    setToken(response.data.success ? response.data.accessToken : null);\n    setUserId(response.data.success ? response.data.user.id : null);\n    await dispatch({\n      type: SADMIN_SIGN_IN,\n      payload: {\n        user: response.data.user,\n        success: response.data.success,\n        errors: response.data.errors\n      }\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {\n    console.log(error);\n  });\n}; //-----------------------------------------\n\nexport let checkAuth;\n\ncheckAuth = async (dispatch, _token, _sAdmin_id) => {\n  let sAdmin_token = _token;\n  let sAdmin_id = _sAdmin_id;\n  sAdmin_token != null && sAdmin_token !== \"null\" && sAdmin_token !== \"\" ? await dispatch({\n    type: SADMIN_CHECK_AUTH,\n    payload: {\n      isAuthenticated: true,\n      sAdmin_id,\n      sAdmin_token\n    }\n  }) : await dispatch({\n    type: SADMIN_CHECK_AUTH,\n    payload: {\n      isAuthenticated: false,\n      sAdmin_id: null,\n      sAdmin_token: null\n    }\n  });\n};\n\nexport const createOwner = (dispatch, token, user, setToken, setUserId) => {\n  setLoading(dispatch, true);\n  axios({\n    method: \"POST\",\n    url: `${url}/super-admin/users`,\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    data: {\n      fullName: user.fullName,\n      email: user.email,\n      password: user.password,\n      locationId: user.locationId\n    }\n  }).then(response => {\n    setToken(response.data.success ? response.data.accessToken : null);\n    setUserId(response.data.success ? response.data.user.id : null);\n    dispatch({\n      type: CREATE_OWNER,\n      payload: {\n        user: response.data.user,\n        success: response.data.success\n      }\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {\n    setLoading(dispatch, false);\n    dispatch({\n      type: CREATE_OWNER,\n      payload: {\n        errors: error.response.data.message\n      }\n    });\n  });\n};","map":{"version":3,"sources":["/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/redux/actions/sAdmin.action.js"],"names":["SADMIN_SIGN_IN","SADMIN_CHECK_AUTH","CREATE_OWNER","setLoading","axios","url","process","env","REACT_APP_API_URL","signIn","dispatch","user","setToken","setUserId","method","headers","data","email","password","then","response","success","accessToken","id","type","payload","errors","catch","error","console","log","checkAuth","_token","_sAdmin_id","sAdmin_token","sAdmin_id","isAuthenticated","createOwner","token","Authorization","fullName","locationId","message"],"mappings":"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","sourcesContent":["/* eslint-disable eqeqeq */\nimport {SADMIN_SIGN_IN, SADMIN_CHECK_AUTH, CREATE_OWNER} from '../actionTypes'\nimport { setLoading } from \"./commonActions\";\nimport axios from \"axios\";\n\n//-----------------------------------------\nconst url = process.env.REACT_APP_API_URL;\n\nexport const signIn = (dispatch, user, setToken, setUserId) => {\n    setLoading(dispatch, true);\n    axios({\n        method: \"POST\",\n        url: `${url}/super-admin/auth/sign-in`,\n        headers: {\n            \"Content-Type\": \" application/json\"\n        },\n        data: {\n            email: user.email,\n            password: user.password\n        }\n    })\n        .then(async (response) => {\n            setToken(\n                response.data.success ? response.data.accessToken : null\n            );\n            setUserId(\n                response.data.success ? response.data.user.id : null\n            );\n\n            await dispatch({\n                type: SADMIN_SIGN_IN,\n                payload: {\n                    user: response.data.user,\n                    success: response.data.success,\n                    errors: response.data.errors,\n                }\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n};\n//-----------------------------------------\n\nexport let checkAuth;\ncheckAuth = async (dispatch, _token, _sAdmin_id) => {\n    let sAdmin_token = _token;\n    let sAdmin_id = _sAdmin_id;\n    sAdmin_token != null && sAdmin_token !== \"null\" && sAdmin_token !== \"\"\n        ? await dispatch({\n            type: SADMIN_CHECK_AUTH,\n            payload: {\n                isAuthenticated: true,\n                sAdmin_id,\n                sAdmin_token,\n            }\n        })\n        : await dispatch({\n            type: SADMIN_CHECK_AUTH,\n            payload: {\n                isAuthenticated: false,\n                sAdmin_id: null,\n                sAdmin_token: null,\n            }\n        });\n};\n\nexport const createOwner = (dispatch, token, user, setToken, setUserId) => {\n    setLoading(dispatch, true);\n    axios({\n        method: \"POST\",\n        url: `${url}/super-admin/users`,\n        headers: { Authorization: `Bearer ${token}` },\n        data: {\n            fullName: user.fullName,\n            email: user.email,\n            password: user.password,\n            locationId: user.locationId,\n        }\n    })\n        .then((response) => {\n            setToken(\n                response.data.success ? response.data.accessToken : null\n            );\n            setUserId(\n                response.data.success ? response.data.user.id : null\n            );\n\n            dispatch({\n                type: CREATE_OWNER,\n                payload: {\n                    user: response.data.user,\n                    success: response.data.success,\n                }\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n            setLoading(dispatch, false);\n            dispatch({\n                type: CREATE_OWNER,\n                payload: {\n                    errors: error.response.data.message\n                }\n            });\n        });\n};\n\n"]},"metadata":{},"sourceType":"module"}