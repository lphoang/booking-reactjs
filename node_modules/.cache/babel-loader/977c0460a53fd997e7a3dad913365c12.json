{"ast":null,"code":"import axios from \"axios\";\nimport { BOOK } from \"../actionTypes\";\nimport { setLoading, setSuccess } from \"./commonActions\";\nconst url = process.env.REACT_APP_API_URL;\nexport const bookRoom = (dispatch, hotelId, token, bookData) => {\n  setLoading(dispatch, true);\n  axios({\n    method: \"POST\",\n    url: `${url}/customer/locations/${hotelId}/book`,\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    data: {\n      startTime: bookData.startTime,\n      endTime: bookData.endTime,\n      roomId: bookData.roomId\n    }\n  }).then(response => {\n    dispatch({\n      type: BOOK,\n      payload: {\n        bookData: response.data,\n        success: response.data.success\n      }\n    });\n    setLoading(dispatch, false);\n    setTimeout(() => {\n      setSuccess(dispatch, null);\n    }, 1000);\n  }).catch(error => {\n    console.log(error.response.data.message);\n    dispatch({\n      type: BOOK,\n      payload: {\n        errors: error.response.data.message\n      }\n    });\n    setLoading(dispatch, false);\n    setTimeout(() => {\n      setSuccess(dispatch, null);\n    }, 1000);\n  });\n};","map":{"version":3,"sources":["/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/redux/actions/booking.action.js"],"names":["axios","BOOK","setLoading","setSuccess","url","process","env","REACT_APP_API_URL","bookRoom","dispatch","hotelId","token","bookData","method","headers","Authorization","data","startTime","endTime","roomId","then","response","type","payload","success","setTimeout","catch","error","console","log","message","errors"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,gBAAnB;AACA,SAAQC,UAAR,EAAoBC,UAApB,QAAqC,iBAArC;AAEA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAxB;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,OAAX,EAAoBC,KAApB,EAA2BC,QAA3B,KAAwC;AAC5DV,EAAAA,UAAU,CAACO,QAAD,EAAW,IAAX,CAAV;AACAT,EAAAA,KAAK,CAAC;AACFa,IAAAA,MAAM,EAAE,MADN;AAEFT,IAAAA,GAAG,EAAG,GAAEA,GAAI,uBAAsBM,OAAQ,OAFxC;AAGFI,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAAjC,KAHP;AAIFK,IAAAA,IAAI,EAAE;AACFC,MAAAA,SAAS,EAAEL,QAAQ,CAACK,SADlB;AAEFC,MAAAA,OAAO,EAAEN,QAAQ,CAACM,OAFhB;AAGFC,MAAAA,MAAM,EAAEP,QAAQ,CAACO;AAHf;AAJJ,GAAD,CAAL,CAUKC,IAVL,CAUWC,QAAD,IAAc;AAChBZ,IAAAA,QAAQ,CAAC;AACLa,MAAAA,IAAI,EAAErB,IADD;AAELsB,MAAAA,OAAO,EAAE;AACLX,QAAAA,QAAQ,EAAES,QAAQ,CAACL,IADd;AAELQ,QAAAA,OAAO,EAAEH,QAAQ,CAACL,IAAT,CAAcQ;AAFlB;AAFJ,KAAD,CAAR;AAOAtB,IAAAA,UAAU,CAACO,QAAD,EAAW,KAAX,CAAV;AACAgB,IAAAA,UAAU,CAAC,MAAM;AACbtB,MAAAA,UAAU,CAACM,QAAD,EAAW,IAAX,CAAV;AACH,KAFS,EAER,IAFQ,CAAV;AAIH,GAvBL,EAwBKiB,KAxBL,CAwBYC,KAAD,IAAW;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACN,QAAN,CAAeL,IAAf,CAAoBc,OAAhC;AACArB,IAAAA,QAAQ,CAAC;AACLa,MAAAA,IAAI,EAAErB,IADD;AAELsB,MAAAA,OAAO,EAAE;AACLQ,QAAAA,MAAM,EAAEJ,KAAK,CAACN,QAAN,CAAeL,IAAf,CAAoBc;AADvB;AAFJ,KAAD,CAAR;AAMA5B,IAAAA,UAAU,CAACO,QAAD,EAAW,KAAX,CAAV;AACAgB,IAAAA,UAAU,CAAC,MAAM;AACbtB,MAAAA,UAAU,CAACM,QAAD,EAAW,IAAX,CAAV;AACH,KAFS,EAER,IAFQ,CAAV;AAGH,GApCL;AAqCH,CAvCM","sourcesContent":["import axios from \"axios\";\nimport {BOOK} from \"../actionTypes\";\nimport {setLoading, setSuccess} from \"./commonActions\";\n\nconst url = process.env.REACT_APP_API_URL;\n\nexport const bookRoom = (dispatch, hotelId, token, bookData) => {\n    setLoading(dispatch, true);\n    axios({\n        method: \"POST\",\n        url: `${url}/customer/locations/${hotelId}/book`,\n        headers: { Authorization: `Bearer ${token}` },\n        data: {\n            startTime: bookData.startTime,\n            endTime: bookData.endTime,\n            roomId: bookData.roomId,\n        }\n    })\n        .then((response) => {\n            dispatch({\n                type: BOOK,\n                payload: {\n                    bookData: response.data,\n                    success: response.data.success,\n                }\n            });\n            setLoading(dispatch, false);\n            setTimeout(() => {\n                setSuccess(dispatch, null);\n            },1000)\n\n        })\n        .catch((error) => {\n            console.log(error.response.data.message)\n            dispatch({\n                type: BOOK,\n                payload: {\n                    errors: error.response.data.message,\n                }\n            });\n            setLoading(dispatch, false);\n            setTimeout(() => {\n                setSuccess(dispatch, null);\n            },1000)\n        });\n};\n"]},"metadata":{},"sourceType":"module"}