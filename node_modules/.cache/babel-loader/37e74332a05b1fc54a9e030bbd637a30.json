{"ast":null,"code":"import { UPDATE_LOCATION, GET_ADMIN_INFO, GET_BOOKING_REQUEST, RESPONSE_BOOKING_REQUEST, CREATE_ROOM, UPDATE_ROOM } from '../actionTypes';\nimport axios from \"axios\";\nimport { setLoading } from \"./commonActions\"; //-----------------------------------------\n\nconst url = process.env.REACT_APP_API_URL;\nexport const getAdmin = async (dispatch, token) => {\n  await axios(`${url}/admin/users/me`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: GET_ADMIN_INFO,\n      payload: {\n        user: response.data\n      }\n    });\n  }).catch(error => {});\n};\nexport const getBookingRequests = async (dispatch, token) => {\n  await axios(`${url}/admin/bookings`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: GET_BOOKING_REQUEST,\n      payload: response.data.results\n    });\n  }).catch(error => {});\n};\nexport const responseBookingRequests = async (dispatch, token, bookingId, status) => {\n  await axios.put(`${url}/admin/bookings/${bookingId}`, {\n    status\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: RESPONSE_BOOKING_REQUEST,\n      payload: response.data.results\n    });\n  }).catch(error => {});\n}; //-----------------------------------------\n\nexport const updateLocation = (dispatch, token, locationData, locationId) => {\n  setLoading(dispatch, true);\n  axios({\n    method: \"PUT\",\n    url: `${url}/admin/locations/${locationId}`,\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    data: {\n      name: locationData.name,\n      address: locationData.address,\n      city: locationData.city,\n      locationTypeId: locationData.locationTypeId,\n      contactPhoneNumber: locationData.contactPhoneNumber,\n      contactEmail: locationData.contactEmail,\n      price: locationData.price,\n      description: locationData.description,\n      workingTime: locationData.workingTime\n    }\n  }).then(response => {\n    dispatch({\n      type: UPDATE_LOCATION,\n      payload: response.data\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {\n    setLoading(dispatch, true);\n    console.log(error.message);\n  });\n};\nexport const createRoom = (dispatch, token, roomData) => {\n  axios.post(`${url}/admin/room/create`, {\n    name: roomData.name,\n    price: roomData.price,\n    description: roomData.description,\n    capacity: roomData.capacity\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: CREATE_ROOM,\n      payload: response.data\n    });\n  }).catch(error => {});\n};\nexport const updateRoom = (dispatch, token, roomId, roomData) => {\n  axios.put(`${url}/admin/room/${roomId}/update`, {\n    name: roomData.name,\n    price: roomData.price,\n    description: roomData.description,\n    capacity: roomData.capacity\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: UPDATE_ROOM,\n      payload: response.data\n    });\n  }).catch(error => {});\n};","map":{"version":3,"sources":["/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/redux/actions/admin.action.js"],"names":["UPDATE_LOCATION","GET_ADMIN_INFO","GET_BOOKING_REQUEST","RESPONSE_BOOKING_REQUEST","CREATE_ROOM","UPDATE_ROOM","axios","setLoading","url","process","env","REACT_APP_API_URL","getAdmin","dispatch","token","headers","Authorization","then","response","type","payload","user","data","catch","error","getBookingRequests","results","responseBookingRequests","bookingId","status","put","updateLocation","locationData","locationId","method","name","address","city","locationTypeId","contactPhoneNumber","contactEmail","price","description","workingTime","console","log","message","createRoom","roomData","post","capacity","updateRoom","roomId"],"mappings":"AAAA,SACIA,eADJ,EAEIC,cAFJ,EAGIC,mBAHJ,EAIIC,wBAJJ,EAKIC,WALJ,EAMIC,WANJ,QAOO,gBAPP;AAQA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,iBAAzB,C,CAEA;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAxB;AAEA,OAAO,MAAMC,QAAQ,GAAG,OAAOC,QAAP,EAAiBC,KAAjB,KAA2B;AAC/C,QAAMR,KAAK,CAAE,GAAEE,GAAI,iBAAR,EAA0B;AACjCO,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADwB,GAA1B,CAAL,CAGDG,IAHC,CAGKC,QAAD,IAAc;AAChBL,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAElB,cADD;AAELmB,MAAAA,OAAO,EAAE;AACLC,QAAAA,IAAI,EAAEH,QAAQ,CAACI;AADV;AAFJ,KAAD,CAAR;AAMH,GAVC,EAWDC,KAXC,CAWMC,KAAD,IAAW,CACjB,CAZC,CAAN;AAaH,CAdM;AAgBP,OAAO,MAAMC,kBAAkB,GAAG,OAAOZ,QAAP,EAAiBC,KAAjB,KAA2B;AACzD,QAAMR,KAAK,CAAE,GAAEE,GAAI,iBAAR,EAA0B;AACjCO,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADwB,GAA1B,CAAL,CAGDG,IAHC,CAGKC,QAAD,IAAc;AAChBL,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEjB,mBADD;AAELkB,MAAAA,OAAO,EAAEF,QAAQ,CAACI,IAAT,CAAcI;AAFlB,KAAD,CAAR;AAIH,GARC,EASDH,KATC,CASMC,KAAD,IAAW,CACjB,CAVC,CAAN;AAWH,CAZM;AAcP,OAAO,MAAMG,uBAAuB,GAAG,OAAOd,QAAP,EAAiBC,KAAjB,EAAwBc,SAAxB,EAAmCC,MAAnC,KAA8C;AACjF,QAAMvB,KAAK,CACNwB,GADC,CACI,GAAEtB,GAAI,mBAAkBoB,SAAU,EADtC,EAEE;AACIC,IAAAA;AADJ,GAFF,EAKE;AACId,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADb,GALF,EAQDG,IARC,CAQKC,QAAD,IAAc;AAChBL,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEhB,wBADD;AAELiB,MAAAA,OAAO,EAAEF,QAAQ,CAACI,IAAT,CAAcI;AAFlB,KAAD,CAAR;AAIH,GAbC,EAcDH,KAdC,CAcMC,KAAD,IAAW,CACjB,CAfC,CAAN;AAgBH,CAjBM,C,CAmBP;;AAEA,OAAO,MAAMO,cAAc,GAAG,CAAClB,QAAD,EAAWC,KAAX,EAAkBkB,YAAlB,EAAgCC,UAAhC,KAA+C;AACzE1B,EAAAA,UAAU,CAACM,QAAD,EAAW,IAAX,CAAV;AACAP,EAAAA,KAAK,CAAC;AACF4B,IAAAA,MAAM,EAAE,KADN;AAEF1B,IAAAA,GAAG,EAAG,GAAEA,GAAI,oBAAmByB,UAAW,EAFxC;AAGFlB,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAjC,KAHP;AAIFQ,IAAAA,IAAI,EAAE;AACFa,MAAAA,IAAI,EAAEH,YAAY,CAACG,IADjB;AAEFC,MAAAA,OAAO,EAAEJ,YAAY,CAACI,OAFpB;AAGFC,MAAAA,IAAI,EAAEL,YAAY,CAACK,IAHjB;AAIFC,MAAAA,cAAc,EAAEN,YAAY,CAACM,cAJ3B;AAKFC,MAAAA,kBAAkB,EAAEP,YAAY,CAACO,kBAL/B;AAMFC,MAAAA,YAAY,EAAER,YAAY,CAACQ,YANzB;AAOFC,MAAAA,KAAK,EAAET,YAAY,CAACS,KAPlB;AAQFC,MAAAA,WAAW,EAAEV,YAAY,CAACU,WARxB;AASFC,MAAAA,WAAW,EAAEX,YAAY,CAACW;AATxB;AAJJ,GAAD,CAAL,CAgBK1B,IAhBL,CAgBWC,QAAD,IAAc;AAChBL,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEnB,eADD;AAELoB,MAAAA,OAAO,EAAEF,QAAQ,CAACI;AAFb,KAAD,CAAR;AAIAf,IAAAA,UAAU,CAACM,QAAD,EAAW,KAAX,CAAV;AACH,GAtBL,EAuBKU,KAvBL,CAuBYC,KAAD,IAAW;AACdjB,IAAAA,UAAU,CAACM,QAAD,EAAW,IAAX,CAAV;AACA+B,IAAAA,OAAO,CAACC,GAAR,CAAYrB,KAAK,CAACsB,OAAlB;AACH,GA1BL;AA2BH,CA7BM;AA+BP,OAAO,MAAMC,UAAU,GAAG,CAAClC,QAAD,EAAWC,KAAX,EAAkBkC,QAAlB,KAA+B;AACrD1C,EAAAA,KAAK,CACA2C,IADL,CACW,GAAEzC,GAAI,oBADjB,EAEQ;AACI2B,IAAAA,IAAI,EAAEa,QAAQ,CAACb,IADnB;AAEIM,IAAAA,KAAK,EAAEO,QAAQ,CAACP,KAFpB;AAGIC,IAAAA,WAAW,EAAEM,QAAQ,CAACN,WAH1B;AAIIQ,IAAAA,QAAQ,EAAEF,QAAQ,CAACE;AAJvB,GAFR,EAQQ;AACInC,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADb,GARR,EAWKG,IAXL,CAWWC,QAAD,IAAc;AAChBL,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEf,WADD;AAELgB,MAAAA,OAAO,EAAEF,QAAQ,CAACI;AAFb,KAAD,CAAR;AAIH,GAhBL,EAiBKC,KAjBL,CAiBYC,KAAD,IAAW,CACjB,CAlBL;AAmBH,CApBM;AAsBP,OAAO,MAAM2B,UAAU,GAAG,CAACtC,QAAD,EAAWC,KAAX,EAAkBsC,MAAlB,EAA0BJ,QAA1B,KAAuC;AAC7D1C,EAAAA,KAAK,CACAwB,GADL,CACU,GAAEtB,GAAI,eAAc4C,MAAO,SADrC,EAEQ;AACIjB,IAAAA,IAAI,EAAEa,QAAQ,CAACb,IADnB;AAEIM,IAAAA,KAAK,EAAEO,QAAQ,CAACP,KAFpB;AAGIC,IAAAA,WAAW,EAAEM,QAAQ,CAACN,WAH1B;AAIIQ,IAAAA,QAAQ,EAAEF,QAAQ,CAACE;AAJvB,GAFR,EAQQ;AACInC,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADb,GARR,EAWKG,IAXL,CAWWC,QAAD,IAAc;AAChBL,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEd,WADD;AAELe,MAAAA,OAAO,EAAEF,QAAQ,CAACI;AAFb,KAAD,CAAR;AAIH,GAhBL,EAiBKC,KAjBL,CAiBYC,KAAD,IAAW,CACjB,CAlBL;AAmBH,CApBM","sourcesContent":["import {\n    UPDATE_LOCATION,\n    GET_ADMIN_INFO,\n    GET_BOOKING_REQUEST,\n    RESPONSE_BOOKING_REQUEST,\n    CREATE_ROOM,\n    UPDATE_ROOM\n} from '../actionTypes'\nimport axios from \"axios\";\nimport {setLoading} from \"./commonActions\";\n\n//-----------------------------------------\nconst url = process.env.REACT_APP_API_URL;\n\nexport const getAdmin = async (dispatch, token) => {\n    await axios(`${url}/admin/users/me`, {\n        headers: {Authorization: `Bearer ${token}`}\n    })\n        .then((response) => {\n            dispatch({\n                type: GET_ADMIN_INFO,\n                payload: {\n                    user: response.data\n                }\n            });\n        })\n        .catch((error) => {\n        });\n};\n\nexport const getBookingRequests = async (dispatch, token) => {\n    await axios(`${url}/admin/bookings`, {\n        headers: {Authorization: `Bearer ${token}`}\n    })\n        .then((response) => {\n            dispatch({\n                type: GET_BOOKING_REQUEST,\n                payload: response.data.results\n            });\n        })\n        .catch((error) => {\n        });\n};\n\nexport const responseBookingRequests = async (dispatch, token, bookingId, status) => {\n    await axios\n        .put(`${url}/admin/bookings/${bookingId}`,\n            {\n                status,\n            },\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n        .then((response) => {\n            dispatch({\n                type: RESPONSE_BOOKING_REQUEST,\n                payload: response.data.results\n            });\n        })\n        .catch((error) => {\n        });\n}\n\n//-----------------------------------------\n\nexport const updateLocation = (dispatch, token, locationData, locationId) => {\n    setLoading(dispatch, true);\n    axios({\n        method: \"PUT\",\n        url: `${url}/admin/locations/${locationId}`,\n        headers: { Authorization: `Bearer ${token}` },\n        data: {\n            name: locationData.name,\n            address: locationData.address,\n            city: locationData.city,\n            locationTypeId: locationData.locationTypeId,\n            contactPhoneNumber: locationData.contactPhoneNumber,\n            contactEmail: locationData.contactEmail,\n            price: locationData.price,\n            description: locationData.description,\n            workingTime: locationData.workingTime,\n        }\n    })\n        .then((response) => {\n            dispatch({\n                type: UPDATE_LOCATION,\n                payload: response.data\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n            setLoading(dispatch, true);\n            console.log(error.message)\n        });\n};\n\nexport const createRoom = (dispatch, token, roomData) => {\n    axios\n        .post(`${url}/admin/room/create`,\n            {\n                name: roomData.name,\n                price: roomData.price,\n                description: roomData.description,\n                capacity: roomData.capacity,\n            },\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n        .then((response) => {\n            dispatch({\n                type: CREATE_ROOM,\n                payload: response.data\n            });\n        })\n        .catch((error) => {\n        });\n}\n\nexport const updateRoom = (dispatch, token, roomId, roomData) => {\n    axios\n        .put(`${url}/admin/room/${roomId}/update`,\n            {\n                name: roomData.name,\n                price: roomData.price,\n                description: roomData.description,\n                capacity: roomData.capacity,\n            },\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n        .then((response) => {\n            dispatch({\n                type: UPDATE_ROOM,\n                payload: response.data\n            });\n        })\n        .catch((error) => {\n        });\n}\n"]},"metadata":{},"sourceType":"module"}