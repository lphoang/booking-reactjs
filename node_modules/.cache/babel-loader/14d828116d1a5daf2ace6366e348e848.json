{"ast":null,"code":"var _jsxFileName = \"/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/redux/actions/admin.action.js\";\nimport { UPDATE_LOCATION, GET_ADMIN_INFO, GET_BOOKING_REQUEST, RESPONSE_BOOKING_REQUEST, CREATE_ROOM, UPDATE_ROOM } from '../actionTypes';\nimport axios from \"axios\";\nimport { setLoading } from \"./commonActions\";\nimport { Loading } from \"../../components/Global/Loading\";\nimport React from \"react\"; //-----------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = process.env.REACT_APP_API_URL;\nexport const getAdmin = (dispatch, token) => {\n  axios(`${url}/admin/users/me`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(async response => {\n    await dispatch({\n      type: GET_ADMIN_INFO,\n      payload: {\n        user: response.data\n      }\n    });\n  }).catch(error => {});\n};\nexport const getBookingRequests = (dispatch, token) => {\n  {\n    state.user.loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 28\n    }, this);\n  }\n  axios(`${url}/admin/bookings`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(async response => {\n    await dispatch({\n      type: GET_BOOKING_REQUEST,\n      payload: response.data.results\n    });\n  }).catch(error => {});\n};\nexport const responseBookingRequests = (dispatch, token, bookingId, status) => {\n  axios.put(`${url}/admin/bookings/${bookingId}`, {\n    status\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(async response => {\n    await dispatch({\n      type: RESPONSE_BOOKING_REQUEST,\n      payload: response.data.results\n    });\n  }).catch(error => {});\n}; //-----------------------------------------\n\nexport const updateLocation = (dispatch, token, locationData, locationId) => {\n  setLoading(dispatch, true);\n  axios({\n    method: \"PUT\",\n    url: `${url}/admin/locations/${locationId}`,\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    data: {\n      name: locationData.name,\n      address: locationData.address,\n      city: locationData.city,\n      locationTypeId: locationData.locationTypeId,\n      contactPhoneNumber: locationData.contactPhoneNumber,\n      contactEmail: locationData.contactEmail,\n      price: locationData.price,\n      description: locationData.description,\n      workingTime: locationData.workingTime\n    }\n  }).then(async response => {\n    await dispatch({\n      type: UPDATE_LOCATION,\n      payload: response.data\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {\n    setLoading(dispatch, true);\n    console.log(error.message);\n  });\n};\nexport const createRoom = (dispatch, token, roomData) => {\n  axios.post(`${url}/admin/room/create`, {\n    name: roomData.name,\n    price: roomData.price,\n    description: roomData.description,\n    capacity: roomData.capacity\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(async response => {\n    await dispatch({\n      type: CREATE_ROOM,\n      payload: response.data\n    });\n  }).catch(error => {});\n};\nexport const updateRoom = (dispatch, token, roomId, roomData) => {\n  axios.put(`${url}/admin/room/${roomId}/update`, {\n    name: roomData.name,\n    price: roomData.price,\n    description: roomData.description,\n    capacity: roomData.capacity\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(async response => {\n    await dispatch({\n      type: UPDATE_ROOM,\n      payload: response.data\n    });\n  }).catch(error => {});\n};","map":{"version":3,"sources":["/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/redux/actions/admin.action.js"],"names":["UPDATE_LOCATION","GET_ADMIN_INFO","GET_BOOKING_REQUEST","RESPONSE_BOOKING_REQUEST","CREATE_ROOM","UPDATE_ROOM","axios","setLoading","Loading","React","url","process","env","REACT_APP_API_URL","getAdmin","dispatch","token","headers","Authorization","then","response","type","payload","user","data","catch","error","getBookingRequests","state","loading","results","responseBookingRequests","bookingId","status","put","updateLocation","locationData","locationId","method","name","address","city","locationTypeId","contactPhoneNumber","contactEmail","price","description","workingTime","console","log","message","createRoom","roomData","post","capacity","updateRoom","roomId"],"mappings":";AAAA,SACIA,eADJ,EAEIC,cAFJ,EAGIC,mBAHJ,EAIIC,wBAJJ,EAKIC,WALJ,EAMIC,WANJ,QAOO,gBAPP;AAQA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,iBAAzB;AACA,SAAQC,OAAR,QAAsB,iCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAxB;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACzCV,EAAAA,KAAK,CAAE,GAAEI,GAAI,iBAAR,EAA0B;AAC3BO,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADkB,GAA1B,CAAL,CAGKG,IAHL,CAGW,MAAOC,QAAP,IAAoB;AACvB,UAAML,QAAQ,CAAC;AACXM,MAAAA,IAAI,EAAEpB,cADK;AAEXqB,MAAAA,OAAO,EAAE;AACLC,QAAAA,IAAI,EAAEH,QAAQ,CAACI;AADV;AAFE,KAAD,CAAd;AAMH,GAVL,EAWKC,KAXL,CAWYC,KAAD,IAAW,CACjB,CAZL;AAaH,CAdM;AAgBP,OAAO,MAAMC,kBAAkB,GAAG,CAACZ,QAAD,EAAWC,KAAX,KAAqB;AACnD;AAACY,IAAAA,KAAK,CAACL,IAAN,CAAWM,OAAX,iBAAsB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAtB;AAAiC;AAClCvB,EAAAA,KAAK,CAAE,GAAEI,GAAI,iBAAR,EAA0B;AAC3BO,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADkB,GAA1B,CAAL,CAGKG,IAHL,CAGU,MAAOC,QAAP,IAAoB;AACtB,UAAML,QAAQ,CAAC;AACXM,MAAAA,IAAI,EAAEnB,mBADK;AAEXoB,MAAAA,OAAO,EAAEF,QAAQ,CAACI,IAAT,CAAcM;AAFZ,KAAD,CAAd;AAIH,GARL,EASKL,KATL,CASYC,KAAD,IAAW,CACjB,CAVL;AAWH,CAbM;AAeP,OAAO,MAAMK,uBAAuB,GAAG,CAAChB,QAAD,EAAWC,KAAX,EAAkBgB,SAAlB,EAA6BC,MAA7B,KAAwC;AAC3E3B,EAAAA,KAAK,CACA4B,GADL,CACU,GAAExB,GAAI,mBAAkBsB,SAAU,EAD5C,EAEQ;AACIC,IAAAA;AADJ,GAFR,EAKQ;AACIhB,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADb,GALR,EAQKG,IARL,CAQU,MAAOC,QAAP,IAAoB;AACtB,UAAML,QAAQ,CAAC;AACXM,MAAAA,IAAI,EAAElB,wBADK;AAEXmB,MAAAA,OAAO,EAAEF,QAAQ,CAACI,IAAT,CAAcM;AAFZ,KAAD,CAAd;AAIH,GAbL,EAcKL,KAdL,CAcYC,KAAD,IAAW,CACjB,CAfL;AAgBH,CAjBM,C,CAmBP;;AAEA,OAAO,MAAMS,cAAc,GAAG,CAACpB,QAAD,EAAWC,KAAX,EAAkBoB,YAAlB,EAAgCC,UAAhC,KAA+C;AACzE9B,EAAAA,UAAU,CAACQ,QAAD,EAAW,IAAX,CAAV;AACAT,EAAAA,KAAK,CAAC;AACFgC,IAAAA,MAAM,EAAE,KADN;AAEF5B,IAAAA,GAAG,EAAG,GAAEA,GAAI,oBAAmB2B,UAAW,EAFxC;AAGFpB,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAjC,KAHP;AAIFQ,IAAAA,IAAI,EAAE;AACFe,MAAAA,IAAI,EAAEH,YAAY,CAACG,IADjB;AAEFC,MAAAA,OAAO,EAAEJ,YAAY,CAACI,OAFpB;AAGFC,MAAAA,IAAI,EAAEL,YAAY,CAACK,IAHjB;AAIFC,MAAAA,cAAc,EAAEN,YAAY,CAACM,cAJ3B;AAKFC,MAAAA,kBAAkB,EAAEP,YAAY,CAACO,kBAL/B;AAMFC,MAAAA,YAAY,EAAER,YAAY,CAACQ,YANzB;AAOFC,MAAAA,KAAK,EAAET,YAAY,CAACS,KAPlB;AAQFC,MAAAA,WAAW,EAAEV,YAAY,CAACU,WARxB;AASFC,MAAAA,WAAW,EAAEX,YAAY,CAACW;AATxB;AAJJ,GAAD,CAAL,CAgBK5B,IAhBL,CAgBU,MAAOC,QAAP,IAAoB;AACtB,UAAML,QAAQ,CAAC;AACXM,MAAAA,IAAI,EAAErB,eADK;AAEXsB,MAAAA,OAAO,EAAEF,QAAQ,CAACI;AAFP,KAAD,CAAd;AAIAjB,IAAAA,UAAU,CAACQ,QAAD,EAAW,KAAX,CAAV;AACH,GAtBL,EAuBKU,KAvBL,CAuBYC,KAAD,IAAW;AACdnB,IAAAA,UAAU,CAACQ,QAAD,EAAW,IAAX,CAAV;AACAiC,IAAAA,OAAO,CAACC,GAAR,CAAYvB,KAAK,CAACwB,OAAlB;AACH,GA1BL;AA2BH,CA7BM;AA+BP,OAAO,MAAMC,UAAU,GAAG,CAACpC,QAAD,EAAWC,KAAX,EAAkBoC,QAAlB,KAA+B;AACrD9C,EAAAA,KAAK,CACA+C,IADL,CACW,GAAE3C,GAAI,oBADjB,EAEQ;AACI6B,IAAAA,IAAI,EAAEa,QAAQ,CAACb,IADnB;AAEIM,IAAAA,KAAK,EAAEO,QAAQ,CAACP,KAFpB;AAGIC,IAAAA,WAAW,EAAEM,QAAQ,CAACN,WAH1B;AAIIQ,IAAAA,QAAQ,EAAEF,QAAQ,CAACE;AAJvB,GAFR,EAQQ;AACIrC,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADb,GARR,EAWKG,IAXL,CAWU,MAAOC,QAAP,IAAoB;AACtB,UAAML,QAAQ,CAAC;AACXM,MAAAA,IAAI,EAAEjB,WADK;AAEXkB,MAAAA,OAAO,EAAEF,QAAQ,CAACI;AAFP,KAAD,CAAd;AAIH,GAhBL,EAiBKC,KAjBL,CAiBYC,KAAD,IAAW,CACjB,CAlBL;AAmBH,CApBM;AAsBP,OAAO,MAAM6B,UAAU,GAAG,CAACxC,QAAD,EAAWC,KAAX,EAAkBwC,MAAlB,EAA0BJ,QAA1B,KAAuC;AAC7D9C,EAAAA,KAAK,CACA4B,GADL,CACU,GAAExB,GAAI,eAAc8C,MAAO,SADrC,EAEQ;AACIjB,IAAAA,IAAI,EAAEa,QAAQ,CAACb,IADnB;AAEIM,IAAAA,KAAK,EAAEO,QAAQ,CAACP,KAFpB;AAGIC,IAAAA,WAAW,EAAEM,QAAQ,CAACN,WAH1B;AAIIQ,IAAAA,QAAQ,EAAEF,QAAQ,CAACE;AAJvB,GAFR,EAQQ;AACIrC,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAG,UAASF,KAAM;AAAhC;AADb,GARR,EAWKG,IAXL,CAWU,MAAOC,QAAP,IAAoB;AACtB,UAAML,QAAQ,CAAC;AACXM,MAAAA,IAAI,EAAEhB,WADK;AAEXiB,MAAAA,OAAO,EAAEF,QAAQ,CAACI;AAFP,KAAD,CAAd;AAIH,GAhBL,EAiBKC,KAjBL,CAiBYC,KAAD,IAAW,CACjB,CAlBL;AAmBH,CApBM","sourcesContent":["import {\n    UPDATE_LOCATION,\n    GET_ADMIN_INFO,\n    GET_BOOKING_REQUEST,\n    RESPONSE_BOOKING_REQUEST,\n    CREATE_ROOM,\n    UPDATE_ROOM\n} from '../actionTypes'\nimport axios from \"axios\";\nimport {setLoading} from \"./commonActions\";\nimport {Loading} from \"../../components/Global/Loading\";\nimport React from \"react\";\n\n//-----------------------------------------\nconst url = process.env.REACT_APP_API_URL;\n\nexport const getAdmin = (dispatch, token) => {\n    axios(`${url}/admin/users/me`, {\n        headers: {Authorization: `Bearer ${token}`}\n    })\n        .then( async (response) => {\n            await dispatch({\n                type: GET_ADMIN_INFO,\n                payload: {\n                    user: response.data\n                }\n            });\n        })\n        .catch((error) => {\n        });\n};\n\nexport const getBookingRequests = (dispatch, token) => {\n    {state.user.loading && <Loading/>}\n    axios(`${url}/admin/bookings`, {\n        headers: {Authorization: `Bearer ${token}`}\n    })\n        .then(async (response) => {\n            await dispatch({\n                type: GET_BOOKING_REQUEST,\n                payload: response.data.results\n            });\n        })\n        .catch((error) => {\n        });\n};\n\nexport const responseBookingRequests = (dispatch, token, bookingId, status) => {\n    axios\n        .put(`${url}/admin/bookings/${bookingId}`,\n            {\n                status,\n            },\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n        .then(async (response) => {\n            await dispatch({\n                type: RESPONSE_BOOKING_REQUEST,\n                payload: response.data.results\n            });\n        })\n        .catch((error) => {\n        });\n}\n\n//-----------------------------------------\n\nexport const updateLocation = (dispatch, token, locationData, locationId) => {\n    setLoading(dispatch, true);\n    axios({\n        method: \"PUT\",\n        url: `${url}/admin/locations/${locationId}`,\n        headers: { Authorization: `Bearer ${token}` },\n        data: {\n            name: locationData.name,\n            address: locationData.address,\n            city: locationData.city,\n            locationTypeId: locationData.locationTypeId,\n            contactPhoneNumber: locationData.contactPhoneNumber,\n            contactEmail: locationData.contactEmail,\n            price: locationData.price,\n            description: locationData.description,\n            workingTime: locationData.workingTime,\n        }\n    })\n        .then(async (response) => {\n            await dispatch({\n                type: UPDATE_LOCATION,\n                payload: response.data\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n            setLoading(dispatch, true);\n            console.log(error.message)\n        });\n};\n\nexport const createRoom = (dispatch, token, roomData) => {\n    axios\n        .post(`${url}/admin/room/create`,\n            {\n                name: roomData.name,\n                price: roomData.price,\n                description: roomData.description,\n                capacity: roomData.capacity,\n            },\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n        .then(async (response) => {\n            await dispatch({\n                type: CREATE_ROOM,\n                payload: response.data\n            });\n        })\n        .catch((error) => {\n        });\n}\n\nexport const updateRoom = (dispatch, token, roomId, roomData) => {\n    axios\n        .put(`${url}/admin/room/${roomId}/update`,\n            {\n                name: roomData.name,\n                price: roomData.price,\n                description: roomData.description,\n                capacity: roomData.capacity,\n            },\n            {\n                headers: {Authorization: `Bearer ${token}`}\n            })\n        .then(async (response) => {\n            await dispatch({\n                type: UPDATE_ROOM,\n                payload: response.data\n            });\n        })\n        .catch((error) => {\n        });\n}\n"]},"metadata":{},"sourceType":"module"}