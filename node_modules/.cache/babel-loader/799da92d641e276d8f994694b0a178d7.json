{"ast":null,"code":"import { SIGN_UP, SIGN_IN, CHECK_AUTH, SET_LOADING } from \"../actionTypes\";\nimport SecureLS from \"secure-ls\"; // let ls = new SecureLS({ encodingType: \"aes\", isCompression: false });\n// let _token;\n// let _user_id;\n// let _is_admin;\n// try {\n//     _token = ls.get(\"token\");\n//     _user_id = ls.get(\"user_id\");\n//     _is_admin = ls.get(\"is_admin\");\n// } catch (error) {}\n\nconst initialState = {\n  isAuthenticated: _token !== null && _token !== \"null\" && _token !== \"\" ? true : false,\n  token: _token || null,\n  user_id: _user_id || null,\n  is_admin: _is_admin || false,\n  loading: false,\n  success: null,\n  errors: null\n};\nexport default function auth(state = initialState, action) {\n  switch (action.type) {\n    case SIGN_UP:\n      {\n        return { ...state,\n          success: action.payload.success ? true : false,\n          isAuthenticated: action.payload.success ? true : false,\n          token: action.payload.success ? action.payload.token : null,\n          user_id: action.payload.success ? action.payload.user_id : null,\n          is_admin: action.payload.success ? action.payload.is_admin : false,\n          errors: action.payload.success ? null : action.payload.errors\n        };\n      }\n\n    case SIGN_IN:\n      {\n        return { ...state,\n          success: action.payload.success ? true : false,\n          isAuthenticated: action.payload.success ? true : false,\n          token: action.payload.success ? action.payload.token : null,\n          user_id: action.payload.success ? action.payload.user_id : null,\n          is_admin: action.payload.success ? action.payload.is_admin : false,\n          errors: action.payload.success ? null : action.payload.errors\n        };\n      }\n\n    case CHECK_AUTH:\n      {\n        return { ...state,\n          isAuthenticated: action.payload.isAuthenticated,\n          token: action.payload.token,\n          user_id: action.payload.user_id,\n          is_admin: action.payload.is_admin\n        };\n      }\n\n    case SET_LOADING:\n      {\n        return { ...state,\n          loading: action.payload\n        };\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/redux/reducers/auth.reducer.js"],"names":["SIGN_UP","SIGN_IN","CHECK_AUTH","SET_LOADING","SecureLS","initialState","isAuthenticated","_token","token","user_id","_user_id","is_admin","_is_admin","loading","success","errors","auth","state","action","type","payload"],"mappings":"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","sourcesContent":["import { SIGN_UP, SIGN_IN, CHECK_AUTH, SET_LOADING } from \"../actionTypes\";\nimport SecureLS from \"secure-ls\";\n\n// let ls = new SecureLS({ encodingType: \"aes\", isCompression: false });\n// let _token;\n// let _user_id;\n// let _is_admin;\n// try {\n//     _token = ls.get(\"token\");\n//     _user_id = ls.get(\"user_id\");\n//     _is_admin = ls.get(\"is_admin\");\n// } catch (error) {}\nconst initialState = {\n    isAuthenticated:\n        _token !== null && _token !== \"null\" && _token !== \"\" ? true : false,\n    token: _token || null,\n    user_id: _user_id || null,\n    is_admin: _is_admin || false,\n    loading: false,\n    success: null,\n    errors: null\n};\n\nexport default function auth(state = initialState, action) {\n    switch (action.type) {\n        case SIGN_UP: {\n            return {\n                ...state,\n                success: action.payload.success ? true : false,\n                isAuthenticated: action.payload.success ? true : false,\n                token: action.payload.success ? action.payload.token : null,\n                user_id: action.payload.success ? action.payload.user_id : null,\n                is_admin: action.payload.success\n                    ? action.payload.is_admin\n                    : false,\n                errors: action.payload.success ? null : action.payload.errors\n            };\n        }\n        case SIGN_IN: {\n            return {\n                ...state,\n                success: action.payload.success ? true : false,\n                isAuthenticated: action.payload.success ? true : false,\n                token: action.payload.success ? action.payload.token : null,\n                user_id: action.payload.success ? action.payload.user_id : null,\n                is_admin: action.payload.success\n                    ? action.payload.is_admin\n                    : false,\n                errors: action.payload.success ? null : action.payload.errors\n            };\n        }\n        case CHECK_AUTH: {\n            return {\n                ...state,\n                isAuthenticated: action.payload.isAuthenticated,\n                token: action.payload.token,\n                user_id: action.payload.user_id,\n                is_admin: action.payload.is_admin,\n            };\n        }\n        case SET_LOADING: {\n            return {\n                ...state,\n                loading: action.payload\n            };\n        }\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}