{"ast":null,"code":"import axios from \"axios\";\nimport { GET_USER, UPDATE_USER_INFO, UPDATE_USER_EMAIL, UPDATE_USER_PASSWORD } from \"../actionTypes\";\nimport { setLoading } from \"./commonActions\";\nconst url = process.env.REACT_APP_API_URL; //-----------------------------------------\n\nexport const getUser = (dispatch, token) => {\n  axios(`${url}/customer/users/me`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: GET_USER,\n      payload: {\n        user: response.data,\n        success: res\n      }\n    });\n  }).catch(error => {});\n}; // -----------------------------------------\n\nexport const updateUserInfo = (dispatch, token, formData) => {\n  setLoading(dispatch, true);\n  axios.post(`${url}/customer/users/${formData.get(\"id\")}/update-personal-info`, formData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: UPDATE_USER_INFO,\n      payload: response.data.data\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {\n    setLoading(dispatch, true);\n  });\n}; // -----------------------------------------\n\nexport const updateUserEmail = (dispatch, token, {\n  email,\n  newEmail,\n  confirmNewEmail\n}) => {\n  setLoading(dispatch, true);\n  axios.put(`${url}/customer/users/me/update-email`, {\n    email,\n    newEmail,\n    confirmNewEmail\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: UPDATE_USER_EMAIL,\n      payload: response.data.data\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {\n    setLoading(dispatch, true);\n  });\n}; // -----------------------------------------\n\nexport const updateUserPassword = (dispatch, token, {\n  password,\n  newPassword,\n  confirmNewPassword\n}) => {\n  setLoading(dispatch, true);\n  axios.put(`${url}/customer/users/me/update-password`, {\n    password,\n    newPassword,\n    confirmNewPassword\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    dispatch({\n      type: UPDATE_USER_PASSWORD,\n      payload: response.data.data\n    });\n    setLoading(dispatch, false);\n  }).catch(error => {\n    setLoading(dispatch, true);\n  });\n};","map":{"version":3,"sources":["/Users/lephuochoang/Hoc/Project/vibo.com/booking/web/src/redux/actions/user.action.js"],"names":["axios","GET_USER","UPDATE_USER_INFO","UPDATE_USER_EMAIL","UPDATE_USER_PASSWORD","setLoading","url","process","env","REACT_APP_API_URL","getUser","dispatch","token","headers","Authorization","then","response","type","payload","user","data","success","res","catch","error","updateUserInfo","formData","post","get","updateUserEmail","email","newEmail","confirmNewEmail","put","updateUserPassword","password","newPassword","confirmNewPassword"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n    GET_USER,\n    UPDATE_USER_INFO,\n    UPDATE_USER_EMAIL,\n    UPDATE_USER_PASSWORD\n} from \"../actionTypes\";\nimport { setLoading } from \"./commonActions\";\n\nconst url = process.env.REACT_APP_API_URL;\n\n//-----------------------------------------\n\nexport const getUser = (dispatch, token) => {\n    axios(`${url}/customer/users/me`, {\n        headers: { Authorization: `Bearer ${token}` }\n    })\n        .then((response) => {\n            dispatch({\n                type: GET_USER,\n                payload: {\n                    user: response.data,\n                    success: res\n                }\n            });\n        })\n        .catch((error) => {});\n};\n// -----------------------------------------\n\nexport const updateUserInfo = (dispatch, token, formData) => {\n    setLoading(dispatch, true);\n    axios\n        .post(\n            `${url}/customer/users/${formData.get(\"id\")}/update-personal-info`,\n            formData,\n            {\n                headers: { Authorization: `Bearer ${token}` }\n            }\n        )\n        .then((response) => {\n            dispatch({\n                type: UPDATE_USER_INFO,\n                payload: response.data.data\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n            setLoading(dispatch, true);\n        });\n};\n// -----------------------------------------\n\nexport const updateUserEmail = (\n    dispatch,\n    token,\n    { email, newEmail, confirmNewEmail }\n) => {\n    setLoading(dispatch, true);\n\n    axios\n        .put(\n            `${url}/customer/users/me/update-email`,\n            {\n                email,\n                newEmail,\n                confirmNewEmail\n            },\n            {\n                headers: { Authorization: `Bearer ${token}` }\n            }\n        )\n        .then((response) => {\n            dispatch({\n                type: UPDATE_USER_EMAIL,\n                payload: response.data.data\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n            setLoading(dispatch, true);\n        });\n};\n// -----------------------------------------\n\nexport const updateUserPassword = (\n    dispatch,\n    token,\n    { password, newPassword, confirmNewPassword }\n) => {\n    setLoading(dispatch, true);\n\n    axios\n        .put(\n            `${url}/customer/users/me/update-password`,\n            {\n                password,\n                newPassword,\n                confirmNewPassword\n            },\n            {\n                headers: { Authorization: `Bearer ${token}` }\n            }\n        )\n        .then((response) => {\n            dispatch({\n                type: UPDATE_USER_PASSWORD,\n                payload: response.data.data\n            });\n            setLoading(dispatch, false);\n        })\n        .catch((error) => {\n            setLoading(dispatch, true);\n        });\n};\n"]},"metadata":{},"sourceType":"module"}